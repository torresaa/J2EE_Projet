<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>e-commerce</title>
        <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
        <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <f:view>
            <section id="header" class="header">
                <div id="title" >
                    <h1>e-DVD Shop</h1>
                </div>

                <ui:fragment rendered="#{sesionBean.admin}">
                    <div>
                        <ul id="menu">
                            <li id="li_rigth">
                                <h:form>
                                    <h:commandLink action="#{sesionBean.displayStock()}">
                                        <h4>STOCK</h4>
                                    </h:commandLink>
                                </h:form>
                            </li>

                            <li id="li_rigth">
                                <h:link outcome="addNewDvd">
                                    <h4>ADD</h4>
                                </h:link>
                            </li>

                            <li id="li_rigth">
                                <h:form>
                                    <h:commandLink action="#{ordersView.getDispatchedOrders()}">
                                        <h4>ORDERS</h4>
                                    </h:commandLink>
                                </h:form>
                            </li>

                            <li id="li_rigth">
                                <h:form>
                                    <h:commandLink action="#{ordersView.indexForAdmin()}">
                                        <h4>INDEX</h4>
                                    </h:commandLink>
                                </h:form>
                            </li>

                            <ui:fragment rendered="#{sesionBean.logged}"> 
                                <div id="li_left">
                                    <table>
                                        <tr>
                                            <td><h4>#{sesionBean.user.name}</h4></td> 
                                            <td>
                                                <h5>(admin)</h5>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <li id="li_left">
                                    <h:form>
                                        <h:commandLink action="#{sesionBean.logOut()}">
                                            <h4>Log out</h4>
                                        </h:commandLink>
                                    </h:form>
                                </li>
                            </ui:fragment>
                        </ul>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{!sesionBean.admin}">
                    <div>
                        <ul id="menu">
                            <li id="li_rigth">
                                <h:link outcome="index">
                                    <h4>SEARCH</h4>
                                </h:link>
                            </li>

                            <ui:fragment rendered="#{!sesionBean.logged}"> 
                                <li id="li_left">
                                    <h:link outcome="login">
                                        <h4>LOGIN</h4>
                                    </h:link>
                                </li>
                                <li id="li_left">
                                    <h:link outcome="signup">
                                        <h4>SIGNUP</h4>
                                    </h:link>
                                </li>
                            </ui:fragment>

                            <ui:fragment rendered="#{sesionBean.logged}"> 
                                <div id="li_left">
                                    <table>
                                        <tr>
                                            <td><h4>#{sesionBean.user.name}</h4></td> 
                                            <td>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <li id="li_left">
                                    <h:form>
                                        <h:commandLink action="#{sesionBean.logOut()}">
                                            <h4>Log out</h4>
                                        </h:commandLink>
                                    </h:form>
                                </li>
                            </ui:fragment>

                            <li id="li_rigth">
                                <h:form>
                                    <h:commandLink action="#{sesionBean.chartOption()}">
                                        <h4>CHART</h4>
                                    </h:commandLink>
                                </h:form>
                            </li>
                        </ul>
                    </div>

                </ui:fragment>

            </section>
            <div id="contentDiv" class="header">
                <ui:insert name="content">
                </ui:insert>
            </div>
        </f:view>    
    </h:body>        
</html>
